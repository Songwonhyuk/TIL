<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 브라우저가 전부 다 로드 되고 난 후, 함수를 시행시키는 것
        onload=function(){
            document.getElementsByTagName("button")[0].onclick = testDate01; 
            document.getElementsByTagName("button")[1].onclick = testDate02;
            document.getElementsByTagName("button")[2].onclick = testDate03;
            document.getElementsByTagName("button")[3].onclick = testDate04;
            document.getElementsByTagName("button")[4].onclick = testDate05;
            // ()붙이면 브라우저 실행될때 바로 실행됨. 
            // 따라서 onclick 이벤트 후 함수 실행하기 위해서 ()를 안붙임 (콜백함수)
        }

        function testDate01() {
            var inputDate = document.getElementById("today");
            var date = new Date();

            inputDate.innerHTML += date.toDateString() + "<br>";
            inputDate.innerHTML += date.toLocaleDateString() + "<br>";
            inputDate.innerHTML += date.toLocaleString() + "<br>"
            inputDate.innerHTML += date.toLocaleTimeString() + "<br>"
        }

        function testDate02() {
            var dayOfWeek = ["일", "월", "화", "수", "목", "금", "토"];

            var date = new Date();
            var year = date.getFullYear();
            var month = 1 + date.getMonth(); // getMonth는 0~11 값을 가져오기 때문에 +1해줘야함
            var day = date.getDate();
            var week = date.getDay(); // 주어진 날짜의 현지 시간 기준 요일을 반환. 0은 일요일 1은 월요일 .... 6은 토요일
            document.getElementById("today").innerHTML = year + "/" + month + "/" + day + "/" + dayOfWeek[week];
        }

        function testDate03() {
            var year = 2022;
            var month = 9;
            var day = 30;
            var date = new Date(year, month - 1, day);
            // new Date 생성자의 매개변수
            // (year, monthIndex, day, hours, minutes, seconds, milliseconds)
            // () 공백일 경우는 생성순간의 날짜와 시간을 나타냄

            document.getElementById('specific').innerHTML = date;

        }

        function testDate04() {
            var dates = document.getElementById('dates').value; // value 속성 값을 가져옴
            //console.log(dates);

            var date = new Date(dates);
            
            var inputDate = document.getElementById('inputdate').value;

            date.setDate(date.getDate() + parseInt(inputDate)); 
            // console.log(date);

            document.getElementById('result').value = date.toLocaleDateString();
        }

        function testDate05() {
            var start = document.getElementById("startdate").value;
            var end = document.getElementById("enddate").value;

            var startDate = new Date(start);
            var endDate = new Date(end);

            var result = (endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24);
            document.getElementById("result2").value = result;
        }
    </script>
</head>
<body>
    <h1>오늘 날짜 출력하기</h1>
    <span id="today"></span>
    <br>
    <button>오늘날짜</button>
    <button>오늘날짜(표현)</button>


    <h1>특정날짜 출력</h1>
    <span id="specific"></span>
    <br>
    <button>특정날짜</button>

    <h1>경과 날짜 구하기</h1>
    <label>지정 날짜</label>
    <input type="date" id="dates" size="50">
    <br>
    <label>경과일</label>
    <input type="number" id="inputdate">
    <br>
    <label>경과 후 날짜</label>
    <input type="text" id="result" readonly>
    <br>
    <button>결과 날짜</button>

    <h1>d-day 기능</h1>
    <label>시작 날짜</label>
    <input type="date" id="startdate">
    <br>
    <label>종료 날짜</label>
    <input type="date" id="enddate">
    <br>
    <label>남은 일수</label>
    <input type="number" id="result2" readonly>
    <button>d-day</button>

</body>
</html>